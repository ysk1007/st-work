<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì¸ìƒ ì¡¸ì—…ì¥ì¹˜</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <style>
    .lotto-ball {
      width: 60px;
      height: 60px;
      border-radius: 50%;
      color: white;
      font-weight: bold;
      font-size: 1.5rem;
      display: flex;
      align-items: center;
      justify-content: center;
      margin: 10px;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
    }

    .lotto-container {
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
      gap: 10px;
      margin-top: 20px;
    }

    .card-style {
      background: white;
      border-radius: 1rem;
      padding: 2rem;
      box-shadow: 0 0 15px rgba(0,0,0,0.1);
    }

    body {
      background-color: #f8f9fa;
    }

    /* ìƒ‰ìƒ í´ë˜ìŠ¤ */
    .yellow { background-color: #fbc02d; }
    .blue   { background-color: #1976d2; }
    .red    { background-color: #d32f2f; }
    .gray   { background-color: #616161; }
    .green  { background-color: #388e3c; }
  </style>
</head>
<body>

  <div class="container-fluid p-5 bg-primary text-white text-center">
    <h1 class="display-4">ì¸ìƒ ì¡¸ì—…ì¥ì¹˜ğŸ°</h1>
    <p class="lead">ëˆ ë§ì€ ë°±ìˆ˜ê°€ ê¿ˆğŸ’¸</p>
  </div>

  <div class="container my-5 card-style text-center">
    <div class="lotto-container">
      <div id="num0" class="lotto-ball">0</div>
      <div id="num1" class="lotto-ball">0</div>
      <div id="num2" class="lotto-ball">0</div>
      <div id="num3" class="lotto-ball">0</div>
      <div id="num4" class="lotto-ball">0</div>
      <div id="num5" class="lotto-ball">0</div>
    </div>

    <div class="mt-4">
      <button id="start" type="button" class="btn btn-success btn-lg me-3">ì‹œì‘</button>
      <button id="end" type="button" class="btn btn-danger btn-lg">ì¢…ë£Œ</button>
    </div>
  </div>

  <script>
    let flag = false;
    let numbers = new Array(6);
    let balls = new Array(45);
 	// ê³µ ì´ˆê¸°í™”
    for(let i = 0; i < 45; i++){
	      balls[i] = i + 1;
    }
    
    // ì„ê¸°
    function suffle(){
   	    for(let i = 0; i < 10000; i++){
   	      let temp = balls[0];
   	      let random = Math.floor(Math.random() * 45);
   	      balls[0] = balls[random];
   	      balls[random] = temp;
   	    }
    }

    // ê³µ ìƒ‰ê¹” ë½‘ê¸°
    function getColorClass(num) {
      if (num <= 10) return 'yellow';
      if (num <= 20) return 'blue';
      if (num <= 30) return 'red';
      if (num <= 40) return 'gray';
      return 'green';
    }

	// ì‹œì‘ ë²„íŠ¼
    document.querySelector('#start').addEventListener('click', () => {
      if(flag) return;		// ì‹¤í–‰ì¤‘
      flag = true;

      for(let i = 0; i < 6; i++){
        numbers[i] = setInterval(() => {	// ì„ê¸° ì• ë‹ˆë©”ì´ì…˜ ì¸í„°ë²Œ ì ìš©

          let num = Math.floor(Math.random() * 45 + 1);	// 1~45 ìˆ«ì
          let el = document.querySelector('#num' + i);	// í´ë˜ìŠ¤ #num0~5 ì ‘ê·¼
          
          // ìˆ«ì, ê³µ ìƒ‰ê¹” ì ìš©
          el.innerHTML = num;
          el.className = 'lotto-ball ' + getColorClass(num);
        }, 50);
      }
    });

 
    // ì¢…ë£Œ ë²„íŠ¼
    document.querySelector('#end').addEventListener('click', () => {
      if(!flag) return;		// ì•„ì§ ì‹¤í–‰ ì•ˆ í•¨
      flag = false;

      // ê³µ ë°°ì—´ ì„ê¸°
      suffle();
      
      numbers.forEach((val, i) => {	// ë°°ì—´ ëŒë©´ì„œ
        setTimeout(() => {			// 0.25ì´ˆ ê°„ê²©ìœ¼ë¡œ ë©ˆì¶”ë©´ì„œ ê³µ ë³´ì—¬ì£¼ê¸°

          clearInterval(val); 		// ì¸í„°ë²Œ ì¢…ë£Œ

          let num = balls[i];							// ìˆ«ì
          let el = document.querySelector('#num' + i);	// í´ë˜ìŠ¤ #num0~5 ì ‘ê·¼
          
       	  // ìˆ«ì, ê³µ ìƒ‰ê¹” ì ìš©
          el.innerHTML = num;
          el.className = 'lotto-ball ' + getColorClass(num);
        }, 0.25 * 1000 * i);
      });
    });
    
  </script>

</body>
</html>
