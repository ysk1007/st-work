<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Insert title here</title>
</head>
<body>

<script type="text/javascript" src="/emp.json"></script>

<table border="1">
	<thead>
		<tr>
			<th>id</th>
			<th>first_name</th>
			<th>last_name</th>
			<th>email</th>
			<th>gender</th>
			<th>hiredate</th>
			<th>age</th>
		</tr>
	</thead>
	<tbody id="empList">
	</tbody>
</table>

<script>
	//data = '[{...}, {....}]';

	let emp = JSON.parse(JSON.stringify(data));
	
	let html = '';
	emp
	.map(e=>{
		let name = '';
		for(let i = 0 ; i < e.last_name.length ; i++){
			name += '*';
		}
		e.last_name = name;
		e.age -= e.age % 10;
		return e;
	})
	.filter(e=>{return e.age == 20})
	.forEach((e,i)=>{
	html += '<tr>';		
		html += '<td>'+e.id+'</td>';
		html += '<td>'+e.first_name+'</td>';
		html += '<td>'+e.last_name+'</td>';
		html += '<td>'+e.email+'</td>';
		html += '<td>'+e.gender+'</td>';
		html += '<td>'+e.hiredate+'</td>';
		html += '<td>'+e.age+'</td>';
	html += '</tr>';
	})
	
	document.querySelector('#empList').innerHTML = html;
</script>

</body>
</html>